<!DOCTYPE html>
<html>
<head>
    <title>Loan Calculator</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Loan Calculator</h1>
    <form id="loan-form">
        <label for="loan-amount">Loan Amount:</label>
        <input type="number" id="loan-amount" name="loan-amount" required>
        <br>
        <label for="interest-rate">Interest:</label>
        <input type="number" id="interest-rate" name="interest-rate" required>
        <br>
        <label for="loan-term">Loan Term:</label>
        <input type="number" id="loan-term" name="loan-term" required>
        <br>
        <button type="submit">Calculate</button>
    </form>      
    <div id="result">
        <div>
            <p>Monthly Payment: $<span id="monthly-payment"></span></p>
            <p>Total Interest: $<span id="total-interest"></span></p>
        </div>          
    </div>

    <script>
        $(document).ready(function() {
        $('#loan-form').submit(function(event) {
            event.preventDefault();
            let loanAmount = $('#loan-amount').val();
            let interestRate = $('#interest-rate').val();
            let loanTerm = $('#loan-term').val();
            $.ajax({
            url: '/calculate-loan',
            type: 'POST',
            data: {
                loanAmount: loanAmount,
                interestRate: interestRate,
                loanTerm: loanTerm
            },
            success: function(data) {
                // Update the page with the calculated values
                $('#monthly-payment').text(data.monthlyPayment.toFixed(2));
                $('#total-interest').text(data.totalInterest.toFixed(2));
            }
            });
        });
        });
    </script>
</body>
</html>
